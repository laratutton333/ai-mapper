<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Earned+Owned AI Mapper</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="hero">
      <div class="hero__content">
        <p class="eyebrow">EARNED + OWNED INTELLIGENCE</p>
        <h1>Level up your content for the new era of search.</h1>
        <p class="subtitle">
          AI Mapper scores how your content performs across Google and AI engines, uncovers the gaps, and gives you step-by-step fixes that boost visibility, authority, and discovery.
          Trusted by communications, marketing, and content teams who need reliable visibility in AI-driven search.
        </p>
        <div class="hero__cta">
          <button class="cta hero-cta" type="button" data-jump="#analysis-tool">Run an Analysis</button>
        </div>
      </div>
    </header>

    <main class="layout" id="analysis-tool">
      <section class="panel input-panel">
        <h2>1. Provide Content</h2>
        <p class="panel__intro">Choose an input method, add your content, and optionally set the content type and industry for more precise scoring.</p>

        <div class="field-group">
          <label class="field-label">Input Method</label>
          <div class="chip-group" data-field="input-type">
            <button class="chip chip--active" data-value="url">URL</button>
            <button class="chip" data-value="html">HTML</button>
            <button class="chip" data-value="text">Text</button>
          </div>
        </div>

        <div class="field-group" id="url-field">
          <label for="urlInput">Content URL</label>
          <input type="url" id="urlInput" placeholder="https://example.com/press-release" />
            
        </div>

        <div class="field-group hidden" id="html-field">
          <label for="htmlInput">Paste HTML</label>
          <textarea id="htmlInput" rows="8" placeholder="Paste the full HTML source code here"></textarea>
        </div>

        <div class="field-group hidden" id="text-field">
          <label for="textInput">Plain Text</label>
          <textarea id="textInput" rows="8" placeholder="Paste the draft content here"></textarea>
        </div>

        <div class="field-inline">
          <div class="field-group">
            <label for="contentType">Content Type</label>
            <select id="contentType">
              <option value="pressRelease">Press Release</option>
              <option value="blogArticle">Blog Article</option>
              <option value="productPage">Product / Service Page</option>
              <option value="landingPage">Landing / Campaign Page</option>
              <option value="newsArticle">News / Editorial</option>
              <option value="howTo">How-To Guide / Tutorial</option>
            </select>
            
          </div>

          <div class="field-group">
            <label for="industrySelect">Industry Benchmark</label>
            <select id="industrySelect">
              <option value="technology">Technology</option>
              <option value="financial">Financial Services</option>
              <option value="healthcare">Healthcare</option>
              <option value="retail">Retail &amp; E-commerce</option>
              <option value="manufacturing">Manufacturing</option>
              <option value="media">Media &amp; Publishing</option>
              <option value="professional">Professional Services</option>
              <option value="hospitality">Hospitality &amp; Travel</option>
              <option value="education">Education</option>
              <option value="nonProfit">Non-Profit</option>
            </select>
            
          </div>
        </div>

        <div class="field-group">
          <label class="field-label">Scoring Mode</label>
          <div class="chip-group" data-field="mode-toggle">
            <button class="chip chip--active" data-value="dual">Dual Mode</button>
            <button class="chip" data-value="seo">SEO Only</button>
            <button class="chip" data-value="geo">GEO Only</button>
          </div>
        </div>

        <div class="action-row">
          <button id="analyzeBtn" class="cta">Run AI Mapper Analysis</button>
          <button id="resetBtn" class="ghost">Reset</button>
        </div>
        
        <div id="loadingSpinner" class="ai-spinner hidden">
          <div class="ai-spinner__circle"></div>
        </div>
        
      </section>

      <section class="panel results-panel">
        <div class="results-header">
          <div>
            <h2>2. Dual-Score Results</h2>
            <p class="panel__intro">Review combined SEO + GEO performance, breakdowns, verification checks, and benchmark insights.</p>
          </div>
          <button id="exportBtn" class="ghost ghost--icon hidden">
            <span>Export HTML Report</span>
            <span aria-hidden="true">↗</span>
          </button>
        </div>
        <div id="statusBanner" class="status-banner hidden" role="status" aria-live="polite"></div>
        <div id="empty-state" class="empty-state-card" aria-live="polite">
          <span data-icon="sparkles" data-label="Awaiting analysis" class="empty-state__icon"></span>
          <p class="empty-state__title">Run an analysis to view SEO + GEO breakdowns, verification checks, and insights.</p>
        </div>
        <div id="results-container" class="results-container">
          <div id="stickyHeader" class="sticky-header" aria-live="polite">
            <div class="sticky-header__scores">
              <div class="sticky-score">
                <p class="sticky-score__label label-with-icon">
                  <span data-icon="search" data-label="SEO Score"></span>
                  <span>SEO</span>
                </p>
                <p class="sticky-score__value" id="stickySeoScore">--</p>
              </div>
              <div class="sticky-score">
                <p class="sticky-score__label label-with-icon">
                  <span data-icon="globe" data-label="GEO Score"></span>
                  <span>GEO</span>
                </p>
                <p class="sticky-score__value" id="stickyGeoScore">--</p>
              </div>
            </div>
            <button id="stickyAnalyzeBtn" class="cta sticky-header__cta" type="button">Run AI Mapper Analysis</button>
          </div>

        <div class="results-grid" id="resultsGrid">
          <article class="results-card score-card hover-card" data-column="left" id="seoScoreCard">
            <div class="skeleton skeleton-card" id="seoScoreSkeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line skeleton-line--lg"></div>
              <div class="skeleton-line skeleton-line--sm"></div>
            </div>
            <p class="score-card__eyebrow label-with-icon">
              <span data-icon="search" data-label="SEO Score"></span>
              <span>SEO Score</span>
            </p>
            <p class="score-card__value" id="seoScore">--</p>
            <p class="score-card__desc">Technical + on-page structure and content quality.</p>
          </article>

          <article class="results-card score-card hover-card" data-column="right" id="geoScoreCard">
            <div class="skeleton skeleton-card" id="geoScoreSkeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line skeleton-line--lg"></div>
              <div class="skeleton-line skeleton-line--sm"></div>
            </div>
            <p class="score-card__eyebrow label-with-icon">
              <span data-icon="globe" data-label="GEO Score"></span>
              <span>GEO Score</span>
            </p>
            <p class="score-card__value" id="geoScore">--</p>
            <p class="score-card__desc">LLM comprehension, prompt alignment, and AI discoverability.</p>
          </article>

          <article class="results-card score-card dual hover-card" data-column="left">
            <p class="score-card__eyebrow label-with-icon">
              <span data-icon="barChart" data-label="Gap Analysis"></span>
              <span>Gap Analysis</span>
            </p>
            <p class="score-card__value" id="gapScore">--</p>
            <p class="score-card__desc" id="gapNarrative">Awaiting analysis...</p>
          </article>

          <article class="results-card score-card performance-card hover-card" data-column="left" id="performancePanel">
            <div class="performance-card__heading">
              <div>
                <p class="performance-card__eyebrow label-with-icon">
                  <span data-icon="activity" data-label="Speed Snapshot"></span>
                  <span>Speed Snapshot</span>
                </p>
                <p class="performance-card__title">Basic fetch metrics based on a single request.</p>
              </div>
              <div class="performance-card__score">
                <p class="score-card__value" id="performanceScoreValue">--</p>
                <span class="performance-card__total">/100</span>
              </div>
            </div>
            <div class="performance-grid" id="performanceGrid"></div>
            <div class="skeleton skeleton-metrics" id="performanceSkeleton">
              <div class="skeleton-block"></div>
              <div class="skeleton-block"></div>
              <div class="skeleton-block"></div>
              <div class="skeleton-block"></div>
            </div>
          </article>

          <section class="results-card collapsible-card hover-card" data-column="left">
            <button class="collapsible-toggle" type="button" data-collapse-target="seoPillarsPanel" aria-expanded="true">
              <div class="collapsible-copy">
                <p class="pillar-group__title label-with-icon">
                  <span data-icon="search" data-label="SEO Breakdown"></span>
                  <span>SEO Breakdown (Score: <span id="seoBreakdownScore">--</span>)</span>
                </p>
                <p class="pillar-group__subtitle">Technical SEO + On-Page + Content Quality</p>
              </div>
              <span class="collapsible-caret" aria-hidden="true"></span>
            </button>
            <div class="collapsible-panel collapsible-panel--open" id="seoPillarsPanel">
              <div class="pillar-grid" id="seoPillars"></div>
              <div class="pillar-skeleton" id="seoPillarsSkeleton">
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
              </div>
            </div>
          </section>

          <section class="results-card collapsible-card hover-card" data-column="right">
            <button class="collapsible-toggle" type="button" data-collapse-target="geoPillarsPanel" aria-expanded="true">
              <div class="collapsible-copy">
                <p class="pillar-group__title label-with-icon">
                  <span data-icon="globe" data-label="GEO Breakdown"></span>
                  <span>GEO Breakdown (Score: <span id="geoBreakdownScore">--</span>)</span>
                </p>
                <p class="pillar-group__subtitle">Structured data, clarity, authority, freshness, and safety.</p>
              </div>
              <span class="collapsible-caret" aria-hidden="true"></span>
            </button>
            <div class="collapsible-panel collapsible-panel--open" id="geoPillarsPanel">
              <div class="pillar-grid" id="geoPillars"></div>
              <div class="pillar-skeleton" id="geoPillarsSkeleton">
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
                <div class="skeleton skeleton-card"></div>
              </div>
            </div>
          </section>

          <section class="results-card bing-card hover-card" data-column="right" id="bingVerification">
            <div class="bing-card__header label-with-icon">
              <span data-icon="shieldCheck" data-label="Microsoft and Bing Verification"></span>
              <h3>Microsoft/Bing Verification</h3>
            </div>
            <ul class="bing-checks-list" id="bingChecksList"></ul>
          </section>

          <div class="results-card benchmarks hover-card" data-column="right" id="benchmarkComparison">
            <h3 class="label-with-icon">
              <span data-icon="lineChart" data-label="Industry Benchmark"></span>
              <span>Industry Benchmark</span>
            </h3>
            <div class="benchmark-cards">
              <div class="benchmark-card">
                <p>SEO vs industry average</p>
                <p class="benchmark-value" id="seoBenchmark"></p>
                <p class="benchmark-label" id="seoBenchmarkLabel"></p>
              </div>
              <div class="benchmark-card">
                <p>GEO vs industry average</p>
                <p class="benchmark-value" id="geoBenchmark"></p>
                <p class="benchmark-label" id="geoBenchmarkLabel"></p>
              </div>
            </div>
          </div>

          <div class="results-card recommendations hover-card" data-column="right">
            <div class="recommendations__header">
              <h3 class="label-with-icon">
                <span data-icon="list" data-label="Recommendations"></span>
                <span>Recommendations</span>
              </h3>
              <div class="chip-group" data-field="recommendation-view">
                <button class="chip chip--active" data-value="combined">Combined</button>
                <button class="chip" data-value="seo">SEO</button>
                <button class="chip" data-value="geo">GEO</button>
              </div>
            </div>
            <ul class="recommendation-list" id="recommendationList"></ul>
            <div class="skeleton skeleton-list" id="recommendationsSkeleton">
              <div class="skeleton-line skeleton-line--lg"></div>
              <div class="skeleton-line"></div>
              <div class="skeleton-line"></div>
            </div>
          </div>

          <div class="results-card type-specific hover-card" data-column="right" id="typeSpecificFindings">
            <h3 class="label-with-icon">
              <span data-icon="pin" data-label="Content Type Findings"></span>
              <span>Content Type-Specific Findings</span>
            </h3>
            <ul></ul>
          </div>

          <div class="results-card analysis-log hover-card" data-column="right">
            <h3 class="label-with-icon">
              <span data-icon="table" data-label="Analysis Snapshot"></span>
              <span>Analysis Snapshot</span>
            </h3>
            <div class="snapshot-grid" id="analysisSnapshot"></div>
            <div class="skeleton skeleton-table" id="snapshotSkeleton">
              <div class="skeleton-line"></div>
              <div class="skeleton-line"></div>
              <div class="skeleton-line"></div>
              <div class="skeleton-line"></div>
            </div>
          </div>
        </div>
        <div id="pillarDetailsOverlay" class="details-overlay" role="presentation" hidden aria-hidden="true">
          <div class="details-panel" role="dialog" aria-modal="true" aria-labelledby="detailsPanelTitle" aria-describedby="detailsPanelSummary" tabindex="-1">
            <div class="details-panel__header">
              <div>
                <p class="details-panel__eyebrow">Category Details</p>
                <h3 id="detailsPanelTitle">Category</h3>
              </div>
              <button type="button" class="details-panel__close" id="detailsPanelCloseBtn" aria-label="Close details panel">&times;</button>
            </div>
            <p id="detailsPanelSummary" class="details-panel__summary"></p>
            <div class="details-panel__body" id="detailsPanelBody"></div>
          </div>
        </div>
      </div>
      </section>
    </main>

    <div class="loading-overlay" id="loadingOverlay" aria-live="polite" aria-hidden="true">
      <div class="spinner" role="status"></div>
      <p>Running AI Mapper analysis…</p>
    </div>

    <footer class="site-footer">
      <p>Earned+Owned AI Mapper · Dual-mode SEO + GEO analysis · MVP v3.0</p>
    </footer>

    <div class="modal" id="subscriptionModal">
      <div class="modal__dialog">
        <button class="modal__close" type="button" aria-label="Close" data-close-modal>&times;</button>
        <p class="modal__eyebrow">Free analysis used</p>
        <h3>Subscribe to continue running AI Mapper.</h3>
        <p class="modal__body">
          You’ve reached the free limit. Unlock unlimited analyses, report exports, and benchmarking by choosing a plan.
        </p>
        <a class="cta modal__cta" href="https://example.com/pricing" target="_blank" rel="noreferrer">Choose a plan</a>
      </div>
    </div>

    <script>
      window.AI_MAPPER_API_URL = 'https://ai-mapper-backend.vercel.app';
    </script>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
